# SwiftCar Dashboard & UI Updates — 2025-11-14

## Overview
This document summarizes the UI/UX and data changes discussed and proposed in the chat on 2025-11-14 for the SwiftCar project.

---

## Dependencies & Packages

- Confirmed core UI dependencies:
  - `@mantine/core`, `@mantine/hooks`
  - `react-table`
  - `chart.js`, `react-chartjs-2`
- **New dependency to install** for icons:
  - `lucide-react`

Command:

```bash
npm install lucide-react
```

---

## Button Styling (Mantine integration)

### Existing wrapper

- Project uses a Mantine-based button wrapper at `src/components/common/Button/Button.js`:
  - Maps legacy props (`variant`, `size`, etc.) to Mantine’s `<Button>`
  - Variants currently supported: `primary`, `outline`, `text`, `danger`, `accent`.

### Recommended usage patterns

- **Primary actions** (CTAs like "Add New Car", "View agencies")
  - Use `variant="primary"` (mapped to Mantine `filled` + `color="brand"`).
- **Secondary actions** (card header links, quiet actions)
  - Use `variant="text"` (mapped to Mantine `subtle`).
- **Destructive actions** (delete/deactivate)
  - Use `variant="danger"` (mapped to `color="red"`).
- Sizes:
  - `small` for inline/table actions
  - `medium` as default for most buttons
  - `large` for rare hero-level CTAs

- Action items: gradually replace raw `<button>` tags in dashboard components with the shared `Button` wrapper to keep styling consistent.

---

## Left-side Navigation Layout (Admin & Agency)

### High-level layout

- Both admin and agency dashboards use a two-column layout:
  - Left: vertical sidebar navigation (sticky)
  - Right: main content area (stats cards, tables, charts)

- Existing page layouts already follow this pattern:
  - `AdminDashboard` uses:
    - `.admin-dashboard__layout` containing `<AdminSidebar />` and `.admin-dashboard__main`.
  - `AgencyDashboard` uses:
    - `.agency-layout` containing `<AgencySidebar />` and `.agency-layout__main`.

### Flex layout (SCSS)

- Implemented/updated in `src/styles/pages/_dashboard.scss` (imported by `main.scss`):

  - Flex container for layouts:
    - `.admin-dashboard__layout`, `.agency-layout` → `display: flex; gap: $spacing-xl; align-items: flex-start;`
  - Sidebar containers:
    - `.admin-dashboard__sidebar`, `.agency-sidebar` → fixed width (260px), `position: sticky`, `top: 80px`.
  - Main content:
    - `.admin-dashboard__main`, `.agency-layout__main` → `flex: 1; min-width: 0;`.
  - Responsive behavior:
    - Below tablet breakpoint, layouts stack vertically and sidebars become full width with `position: static`.

---

## Shared Sidebar Component Styling (SCSS)

A shared `.sidebar` style was introduced for both Admin and Agency sidebars:

- Container `.sidebar`:
  - Background: `background-color: $color-gray-100;` (using existing neutral tokens)
  - Border and radius: `border: 1px solid $color-gray-200; border-radius: $border-radius-lg;`
  - Layout: `display: flex; flex-direction: column; gap: $spacing-md;`

- Header `.sidebar__header` and logo `.sidebar__logo`:
  - Simple brand mark and text label; can be swapped for a real logo later.
  - `.sidebar__logo-mark` is a circle with `$color-primary` background and white text.

- Navigation `.sidebar__nav` / `.sidebar__item`:
  - Shared for both `<button>` and `<Link>` items.
  - Styles:
    - `display: flex; align-items: center; gap: $spacing-sm;`
    - Padding, border-radius, and hover state via `$color-gray-100` and `$text-primary`.
  - Icon slot: `.sidebar__item-icon` (Lucide icons live here).

- Active state `.sidebar__item--active`:
  - Background: `background-color: $color-gray-200;` (replacing the earlier undefined `$color-gray-50`)
  - Text & icon color: `$color-primary`
  - Font-weight: `600`.

- Footer `.sidebar__footer`:
  - Simple copyright text at the bottom.

---

## AdminSidebar: Lucide Icon Navigation

File: `src/components/layout/AdminSidebar.js`

- Navigation items now use `lucide-react` for icons:
  - `LayoutDashboard` for Overview
  - `Building2` for Agencies
  - `Users` for Users
  - `MessageSquareMore` for Reviews & Content
  - `BarChart3` for Analytics
  - `Settings` for Settings

- Each item is rendered as:
  - `<button className="sidebar__item ...">`
  - Icon in `.sidebar__item-icon`, label in `.sidebar__item-label`.
- Active state detection:
  - `location.pathname.startsWith(path)`.

---

## AgencySidebar: Lucide Icon Navigation

File: `src/components/layout/AgencySidebar.js`

- Uses `lucide-react` icons per section:
  - `LayoutDashboard` for Dashboard
  - `BadgeCheck` for Verification Status
  - `CarFront` for Add Car
  - `Wrench` for Manage Cars
  - `ClipboardList` for Booking Requests
  - `CalendarRange` for Bookings
  - `WalletCards` for Earnings

- Items are `<Link>` components styled using the shared `.sidebar__item` classes.
- Active state detection via `location.pathname.startsWith(path)`.

---

## Data & Mock Content Enhancements (Summary)

**Files inspected:**
- `src/data/cars.json`
- `src/data/agencies.json`
- `src/data/bookings.json`

### Proposed changes (not yet applied in codebase)

1. **Replace local image paths with Unsplash URLs**
   - For `cars.json`:
     - Replace `/images/cars/*.jpg` with relevant stock image URLs, e.g.:
       - Toyota Corolla: `https://images.unsplash.com/photo-1517142089942-ba376ce32a2e?auto=format&fit=crop&w=1200&q=80`
       - Dacia SUV-like: `https://images.unsplash.com/photo-1525609004556-c46c7d6cf023?auto=format&fit=crop&w=1200&q=80`
       - Mercedes E-Class: `https://images.unsplash.com/photo-1541781774459-bb2af2f05b55?auto=format&fit=crop&w=1200&q=80`
   - For `agencies.json`:
     - Replace `/images/agencies/*.png` with Unsplash images representing the brand/city.

2. **Extend mock data for richer UI**
   - `cars.json`:
     - Add more vehicles (e.g., additional Mercedes models or SUVs) including fields like `rating`, `reviewCount`, `createdDate`.
   - `bookings.json`:
     - Add bookings for different statuses (`pending`, `cancelled`, `completed`) and different dates.
   - These enhancements support better usage of tables, KPIs, and charts.

---

## Known Issues & Fixes

1. **Missing lucide-react dependency**
   - Error: `Module not found: Error: Can't resolve 'lucide-react' ...`
   - Fix: run `npm install lucide-react` and restart the dev server.

2. **Sass variable `$color-gray-50` undefined**
   - Root cause: `_variables.scss` defines `$color-gray-100` and above, not `$color-gray-50`.
   - Fixes:
     - Use `$color-gray-100` for sidebar background instead of `$color-gray-50`.
     - Use `$color-gray-200` or another defined color for active item background, instead of an undefined variable.

---

## Next Suggested Steps

1. **Apply/confirm SCSS updates** in `_dashboard.scss` with the corrected variable names.
2. **Verify sidebars** visually on both admin and agency dashboards:
   - Check sticky behavior on scroll.
   - Confirm active state and hover styles.
3. **Integrate brand accents** (e.g., a `BrandChip` component using Lucide icons) into car/fleet UIs.
4. **Update `cars.json`, `agencies.json`, and `bookings.json`** with the unsplash-based image URLs and additional mock entries.
5. Optionally, extend dashboards with `react-table` and `react-chartjs-2` using the richer mock data.
